HECODSM = ${WOLF_BINDIR}/hecodsm
HECODSM_O = ${HECODSM_SRCDIR}/hecodsm.o
HECODSM_RUNNER = ${WOLF_BINDIR}/hecodsm_runner
HECODSM_RUNNER_O = ${HECODSM_SRCDIR}/hecodsm_runner.o
HECODSM_COM_OBJS := ${filter-out ${HECODSM_O} ${HECODSM_RUNNER_O},${patsubst %.cpp,%.o,${wildcard ${HECODSM_SRCDIR}/*.cpp}}}

${HECODSM}: CXXFLAGS += -I${WOLF_INCDIR}
${HECODSM}: LIBS += -lwolf -lpthread ${D2MCE_LIBS} ${EXECINFO_LIBS} ${COV_LIBS}
${HECODSM}: LDFLAGS += -L${WOLF_LIBDIR}

${HECODSM}: ${HECODSM_O} ${HECODSM_COM_OBJS} ${HECODSM_RUNNER}
	${CXX} ${CXXFLAGS} -o $@ ${LDFLAGS} ${HECODSM_O} ${HECODSM_COM_OBJS} ${LIBS}

${HECODSM_RUNNER}: ${HECODSM_RUNNER_O} ${HECODSM_COM_OBJS} ${WOLF}
	${CXX} ${CXXFLAGS} -o $@ ${LDFLAGS} ${HECODSM_RUNNER_O} ${HECODSM_COM_OBJS} ${LIBS}

hecodsm_clean:
	-rm ${HECODSM} ${HECODSM_O} ${HECODSM_RUNNER} ${HECODSM_RUNNER_O} ${HECODSM_COM_OBJS}