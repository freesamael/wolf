HECO = ${WOLF_BINDIR}/hecodsm
HECO_O = ${HECO_SRCDIR}/heco.o
HECO_RUNNER = ${WOLF_BINDIR}/heco_runner
HECO_RUNNER_O = ${HECO_SRCDIR}/heco_runner.o
HECO_COM_OBJS := ${filter-out ${HECO_O} ${HECO_RUNNER_O},${patsubst %.cpp,%.o,${wildcard ${HECO_SRCDIR}/*.cpp}}}

${HECO}: CXXFLAGS += -I${COMLIB_INCDIR} -I${WOLFLIB_INCDIR} ${D2MCE_CXXFLAGS}
${HECO}: LIBS += -lwolf -lpthread ${D2MCE_LIBS}
${HECO}: LDFLAGS += -L${WOLF_LIBDIR} ${D2MCE_LDFLAGS}

${HECO}: ${HECO_O} ${HECO_COM_OBJS} ${HECO_RUNNER}
	${CXX} ${CXXFLAGS} -o $@ ${LDFLAGS} ${HECO_O} ${HECO_COM_OBJS} ${LIBS}

${HECO_RUNNER}: ${HECO_RUNNER_O} ${HECO_COM_OBJS}
	${CXX} ${CXXFLAGS} -o $@ ${LDFLAGS} ${HECO_RUNNER_O} ${HECO_COM_OBJS} ${LIBS}

heco_clean:
	-rm ${HECO} ${HECO_O} ${HECO_RUNNER} ${HECO_RUNNER_O} ${HECO_COM_OBJS}